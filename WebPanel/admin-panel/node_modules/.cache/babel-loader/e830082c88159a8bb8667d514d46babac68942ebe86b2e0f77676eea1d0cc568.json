{"ast":null,"code":"// services/apiService.js\nimport axios from 'axios';\n\n// Servis URL'leri\nconst USER_SERVICE_URL = 'http://localhost:8050/api';\nconst PARKING_SERVICE_URL = 'http://localhost:8081/api';\n\n// API istekleri için interceptor\naxios.interceptors.request.use(config => {\n  // Token yerine kullanıcı bilgilerini header'a ekle\n  const userId = localStorage.getItem('userId');\n  const username = localStorage.getItem('username');\n  if (userId && username) {\n    config.headers['X-User-Id'] = userId;\n    config.headers['X-Username'] = username;\n  }\n  return config;\n}, error => Promise.reject(error));\n\n// Otopark API çağrıları\nexport const addParking = parkingData => {\n  // Otopark verilerine kullanıcı bilgilerini ekle\n  const userId = localStorage.getItem('userId');\n  const username = localStorage.getItem('username');\n  const enrichedData = {\n    ...parkingData,\n    createdBy: username,\n    userId: userId\n  };\n  console.log('Otopark ekleniyor:', enrichedData);\n  return axios.post(`${PARKING_SERVICE_URL}/admin/parkings`, enrichedData, {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n};\nexport const getParkings = () => {\n  return axios.get(`${PARKING_SERVICE_URL}/parkings`);\n};\nexport const getParkingById = id => {\n  return axios.get(`${PARKING_SERVICE_URL}/parkings/${id}`);\n};\nexport const updateParking = (id, parkingData) => {\n  return axios.put(`${PARKING_SERVICE_URL}/admin/parkings/${id}`, parkingData);\n};\nexport const deleteParking = id => {\n  return axios.delete(`${PARKING_SERVICE_URL}/admin/parkings/${id}`);\n};\n\n// Layout API çağrıları\nexport const getParkingLayout = parkingId => {\n  return axios.get(`${PARKING_SERVICE_URL}/${parkingId}/layout`);\n};\nexport const updateParkingLayout = (parkingId, layoutData) => {\n  return axios.post(`${PARKING_SERVICE_URL}/${parkingId}/layout`, layoutData);\n};\nexport const clearParkingLayout = parkingId => {\n  return axios.put(`${PARKING_SERVICE_URL}/${parkingId}/clear-layout`);\n};\n\n// User Service API çağrıları - bunları da eklemek isterseniz\nexport const signIn = credentials => {\n  return axios.post(`${USER_SERVICE_URL}/auth/signin`, credentials);\n};\nexport const signUp = userData => {\n  return axios.post(`${USER_SERVICE_URL}/auth/signup`, userData);\n};","map":{"version":3,"names":["axios","USER_SERVICE_URL","PARKING_SERVICE_URL","interceptors","request","use","config","userId","localStorage","getItem","username","headers","error","Promise","reject","addParking","parkingData","enrichedData","createdBy","console","log","post","getParkings","get","getParkingById","id","updateParking","put","deleteParking","delete","getParkingLayout","parkingId","updateParkingLayout","layoutData","clearParkingLayout","signIn","credentials","signUp","userData"],"sources":["C:/Users/serha/Smart-Parking-System/WebPanel/admin-panel/src/services/apiService.js"],"sourcesContent":["// services/apiService.js\nimport axios from 'axios';\n\n// Servis URL'leri\nconst USER_SERVICE_URL = 'http://localhost:8050/api';\nconst PARKING_SERVICE_URL = 'http://localhost:8081/api';\n\n// API istekleri için interceptor\naxios.interceptors.request.use(\n  config => {\n    // Token yerine kullanıcı bilgilerini header'a ekle\n    const userId = localStorage.getItem('userId');\n    const username = localStorage.getItem('username');\n    \n    if (userId && username) {\n      config.headers['X-User-Id'] = userId;\n      config.headers['X-Username'] = username;\n    }\n    \n    return config;\n  },\n  error => Promise.reject(error)\n);\n\n// Otopark API çağrıları\nexport const addParking = (parkingData) => {\n  // Otopark verilerine kullanıcı bilgilerini ekle\n  const userId = localStorage.getItem('userId');\n  const username = localStorage.getItem('username');\n  \n  const enrichedData = {\n    ...parkingData,\n    createdBy: username,\n    userId: userId\n  };\n  \n  console.log('Otopark ekleniyor:', enrichedData);\n  \n  return axios.post(`${PARKING_SERVICE_URL}/admin/parkings`, enrichedData, {\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n};\n\nexport const getParkings = () => {\n  return axios.get(`${PARKING_SERVICE_URL}/parkings`);\n};\n\nexport const getParkingById = (id) => {\n  return axios.get(`${PARKING_SERVICE_URL}/parkings/${id}`);\n};\n\nexport const updateParking = (id, parkingData) => {\n  return axios.put(`${PARKING_SERVICE_URL}/admin/parkings/${id}`, parkingData);\n};\n\nexport const deleteParking = (id) => {\n  return axios.delete(`${PARKING_SERVICE_URL}/admin/parkings/${id}`);\n};\n\n// Layout API çağrıları\nexport const getParkingLayout = (parkingId) => {\n  return axios.get(`${PARKING_SERVICE_URL}/${parkingId}/layout`);\n};\n\nexport const updateParkingLayout = (parkingId, layoutData) => {\n  return axios.post(`${PARKING_SERVICE_URL}/${parkingId}/layout`, layoutData);\n};\n\nexport const clearParkingLayout = (parkingId) => {\n  return axios.put(`${PARKING_SERVICE_URL}/${parkingId}/clear-layout`);\n};\n\n// User Service API çağrıları - bunları da eklemek isterseniz\nexport const signIn = (credentials) => {\n  return axios.post(`${USER_SERVICE_URL}/auth/signin`, credentials);\n};\n\nexport const signUp = (userData) => {\n  return axios.post(`${USER_SERVICE_URL}/auth/signup`, userData);\n};"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,gBAAgB,GAAG,2BAA2B;AACpD,MAAMC,mBAAmB,GAAG,2BAA2B;;AAEvD;AACAF,KAAK,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAC5BC,MAAM,IAAI;EACR;EACA,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAC7C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAEjD,IAAIF,MAAM,IAAIG,QAAQ,EAAE;IACtBJ,MAAM,CAACK,OAAO,CAAC,WAAW,CAAC,GAAGJ,MAAM;IACpCD,MAAM,CAACK,OAAO,CAAC,YAAY,CAAC,GAAGD,QAAQ;EACzC;EAEA,OAAOJ,MAAM;AACf,CAAC,EACDM,KAAK,IAAIC,OAAO,CAACC,MAAM,CAACF,KAAK,CAC/B,CAAC;;AAED;AACA,OAAO,MAAMG,UAAU,GAAIC,WAAW,IAAK;EACzC;EACA,MAAMT,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAC7C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;EAEjD,MAAMQ,YAAY,GAAG;IACnB,GAAGD,WAAW;IACdE,SAAS,EAAER,QAAQ;IACnBH,MAAM,EAAEA;EACV,CAAC;EAEDY,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEH,YAAY,CAAC;EAE/C,OAAOjB,KAAK,CAACqB,IAAI,CAAC,GAAGnB,mBAAmB,iBAAiB,EAAEe,YAAY,EAAE;IACvEN,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;AACJ,CAAC;AAED,OAAO,MAAMW,WAAW,GAAGA,CAAA,KAAM;EAC/B,OAAOtB,KAAK,CAACuB,GAAG,CAAC,GAAGrB,mBAAmB,WAAW,CAAC;AACrD,CAAC;AAED,OAAO,MAAMsB,cAAc,GAAIC,EAAE,IAAK;EACpC,OAAOzB,KAAK,CAACuB,GAAG,CAAC,GAAGrB,mBAAmB,aAAauB,EAAE,EAAE,CAAC;AAC3D,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGA,CAACD,EAAE,EAAET,WAAW,KAAK;EAChD,OAAOhB,KAAK,CAAC2B,GAAG,CAAC,GAAGzB,mBAAmB,mBAAmBuB,EAAE,EAAE,EAAET,WAAW,CAAC;AAC9E,CAAC;AAED,OAAO,MAAMY,aAAa,GAAIH,EAAE,IAAK;EACnC,OAAOzB,KAAK,CAAC6B,MAAM,CAAC,GAAG3B,mBAAmB,mBAAmBuB,EAAE,EAAE,CAAC;AACpE,CAAC;;AAED;AACA,OAAO,MAAMK,gBAAgB,GAAIC,SAAS,IAAK;EAC7C,OAAO/B,KAAK,CAACuB,GAAG,CAAC,GAAGrB,mBAAmB,IAAI6B,SAAS,SAAS,CAAC;AAChE,CAAC;AAED,OAAO,MAAMC,mBAAmB,GAAGA,CAACD,SAAS,EAAEE,UAAU,KAAK;EAC5D,OAAOjC,KAAK,CAACqB,IAAI,CAAC,GAAGnB,mBAAmB,IAAI6B,SAAS,SAAS,EAAEE,UAAU,CAAC;AAC7E,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAIH,SAAS,IAAK;EAC/C,OAAO/B,KAAK,CAAC2B,GAAG,CAAC,GAAGzB,mBAAmB,IAAI6B,SAAS,eAAe,CAAC;AACtE,CAAC;;AAED;AACA,OAAO,MAAMI,MAAM,GAAIC,WAAW,IAAK;EACrC,OAAOpC,KAAK,CAACqB,IAAI,CAAC,GAAGpB,gBAAgB,cAAc,EAAEmC,WAAW,CAAC;AACnE,CAAC;AAED,OAAO,MAAMC,MAAM,GAAIC,QAAQ,IAAK;EAClC,OAAOtC,KAAK,CAACqB,IAAI,CAAC,GAAGpB,gBAAgB,cAAc,EAAEqC,QAAQ,CAAC;AAChE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}